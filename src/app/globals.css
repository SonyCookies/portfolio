@import "tailwindcss";

:root {
  --background: #0e1222;
  --foreground: #e9eefc;
  --accent: #f2c94c; /* gold */
  --cr-blue: #2f66d0; /* royal */
  --cr-navy: #0c1a3a;
  --cr-purple: #b277ff; /* elixir */
  --tile: clamp(36px, 7vw, 64px);
  --tile-line-dark: rgba(0, 0, 0, 0.30);
  --tile-line-light: rgba(255, 255, 255, 0.06);
}

/* Theme overrides applied on <html> element */
.theme-royale {
  --background: #0e1222;
  --foreground: #e9eefc;
  --accent: #f2c94c;
  --cr-blue: #2f66d0;
  --cr-navy: #0c1a3a;
  --cr-purple: #b277ff;
  --tile-line-dark: rgba(0, 0, 0, 0.30);
  --tile-line-light: rgba(255, 255, 255, 0.06);
}
.theme-dark {
  --background: #0b0f1c;
  --foreground: #e6e9f5;
  --accent: #e8c24a;
  --cr-blue: #295bbf;
  --cr-navy: #0a1533;
  --cr-purple: #a96cff;
  --tile-line-dark: rgba(0, 0, 0, 0.34);
  --tile-line-light: rgba(255, 255, 255, 0.07);
}
.theme-light {
  --background: #f7f9ff;
  --foreground: #0d1324;
  --accent: #d9a800;
  --cr-blue: #4a7cf0;
  --cr-navy: #e9eefc;
  --cr-purple: #8f6cff;
  --tile-line-dark: rgba(0, 0, 0, 0.08);
  --tile-line-light: rgba(255, 255, 255, 0.5);
}

/* Clash Royale display fonts */
@font-face {
  font-family: "Clash";
  src: url("/fonts/Clash_Regular.otf") format("opentype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Clash";
  src: url("/fonts/Clash_Bold.otf") format("opentype");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

.clash-font { font-family: "Clash", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; }

/* Default: inherit next/font/local (Clash) from body className. When toggled, force system stack. */
body.font-default,
body.font-default :where(html, body, button, input, textarea, select, .font-sans) {
  font-family: var(--font-geist-sans), ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol" !important;
}

/* Make Tailwind's .font-sans inherit from body so next/font/local (Clash) wins by default */
.font-sans { font-family: inherit !important; }

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0e1222;
    --foreground: #e9eefc;
    --accent: #f2c94c;
    --cr-blue: #2f66d0;
    --cr-navy: #0c1a3a;
    --cr-purple: #b277ff;
  }
}

body {
  background:
    /* highlight glows */
    radial-gradient(1200px 600px at 10% -10%, color-mix(in oklab, var(--cr-blue) 18%, transparent), transparent 60%),
    radial-gradient(1000px 500px at 90% -20%, color-mix(in oklab, var(--accent) 12%, transparent), transparent 55%),
    /* diamond tile shading (four-corner quilt) */
    linear-gradient(135deg, color-mix(in oklab, var(--cr-blue) 12%, black 6%) 25%, transparent 25%) 0 0/var(--tile) var(--tile),
    linear-gradient(225deg, color-mix(in oklab, var(--cr-blue) 12%, black 6%) 25%, transparent 25%) 0 0/var(--tile) var(--tile),
    linear-gradient(45deg, color-mix(in oklab, var(--cr-blue) 12%, black 6%) 25%, transparent 25%) 0 0/var(--tile) var(--tile),
    linear-gradient(315deg, color-mix(in oklab, var(--cr-blue) 12%, black 6%) 25%, transparent 25%) 0 0/var(--tile) var(--tile),
    /* grid lines for diamond seams */
    linear-gradient(45deg, var(--tile-line-dark) 0 2px, transparent 2px 100%) 0 0/var(--tile) var(--tile),
    linear-gradient(-45deg, var(--tile-line-light) 0 2px, transparent 2px 100%) 0 0/var(--tile) var(--tile),
    /* base royal gradient */
    linear-gradient(180deg, color-mix(in oklab, var(--cr-navy) 90%, black 10%), color-mix(in oklab, var(--cr-blue) 35%, var(--cr-navy) 65%));
  color: var(--foreground);
  font-family: var(--font-geist-sans), ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

::selection {
  background: color-mix(in oklab, var(--accent) 35%, transparent);
}

:focus-visible {
  outline: 2px solid color-mix(in oklab, var(--accent) 60%, white 10%);
  outline-offset: 2px;
}

/* CR Trophy float wobble */
@keyframes cr-float-wobble {
  0% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-3px) rotate(-2deg); }
  50% { transform: translateY(0.5px) rotate(1.5deg); }
  75% { transform: translateY(-2px) rotate(-1deg); }
  100% { transform: translateY(0) rotate(0deg); }
}

.cr-float-wobble {
  animation: cr-float-wobble 2.6s ease-in-out infinite;
  will-change: transform;
}
.cr-float-wobble:hover { animation-duration: 1.6s; }
.cr-pointer { cursor: pointer; }

/* Legendary card reveal animations */
@keyframes cr-reveal-spin {
  0% { transform: translateY(24px) scale(0.6) rotate(-15deg); opacity: 0; }
  25% { transform: translateY(-6px) scale(0.9) rotate(6deg); opacity: 0.6; }
  60% { transform: translateY(0px) scale(1.06) rotate(-3deg); opacity: 1; }
  100% { transform: translateY(0) scale(1) rotate(0deg); opacity: 1; }
}

@keyframes cr-reveal-glow {
  0%, 100% { box-shadow: 0 0 0 4px rgba(94,160,255,0.25), 0 0 60px 20px rgba(242,201,76,0.18); }
  50% { box-shadow: 0 0 0 6px rgba(94,160,255,0.35), 0 0 90px 24px rgba(242,201,76,0.28); }
}

.cr-reveal-anim {
  animation: cr-reveal-spin 700ms cubic-bezier(.2,.7,.2,1) both;
}
.cr-reveal-glow {
  animation: cr-reveal-glow 2.2s ease-in-out infinite;
}

/* Transition helpers for avatar-to-center reveal (FLIP) */
.cr-reveal-card {
  opacity: 0;
  transform: translate3d(var(--cr-reveal-x, 0px), var(--cr-reveal-y, 0px), 0) scale(var(--cr-reveal-scale, 0.3)) rotate(var(--cr-reveal-rot, -18deg));
  transition: transform 720ms cubic-bezier(.2,.7,.2,1), opacity 360ms ease-out;
  will-change: transform, opacity;
}
.cr-reveal-final {
  opacity: 1;
  transform: translate3d(0,0,0) scale(1) rotate(0deg);
}

/* Fast-to-slow spin wrapper; composes with inner translate/scale */
@keyframes cr-spin-slowout {
  0% { transform: rotate(0deg); }
  15% { transform: rotate(540deg); } /* very fast at start */
  45% { transform: rotate(630deg); }
  70% { transform: rotate(690deg); }
  100% { transform: rotate(720deg); } /* settles */
}
.cr-spin-slowout {
  animation: cr-spin-slowout 900ms cubic-bezier(.2,.7,.2,1) both;
  will-change: transform;
}

/* 3D flip (Y-axis) fast-to-slow for reveal â€” extended (~5s) */
@keyframes cr-flip-slowout {
  0%   { transform: rotateY(0deg); }
  10%  { transform: rotateY(1440deg); } /* very fast: 4 turns in first 10% */
  30%  { transform: rotateY(2160deg); } /* slows a bit */
  55%  { transform: rotateY(2520deg); }
  75%  { transform: rotateY(2700deg); }
  100% { transform: rotateY(2880deg); } /* settle ~8 turns total */
}
.cr-flip-slowout {
  animation: cr-flip-slowout 5000ms cubic-bezier(.2,.7,.2,1) both;
  transform-origin: center;
  will-change: transform;
}
.cr-perspective { perspective: 1000px; }

/* Single-phase Y-axis flip: starts with the same fast speed, then eases out smoothly */
@keyframes cr-flip-easeout {
  0%   { transform: rotateY(0deg); }
  60%  { transform: rotateY(2880deg); } /* ~8 turns at steady initial speed */
  80%  { transform: rotateY(3240deg); } /* slows */
  100% { transform: rotateY(3240deg); } /* settle */
}
.cr-flip-easeout {
  animation: cr-flip-easeout 5000ms cubic-bezier(.2,.7,.2,1) both;
  transform-origin: center;
}

/* Hexagonal mask utility (approx Clash hex) */
.cr-hex-mask {
  clip-path: polygon(25% 6%, 75% 6%, 96% 50%, 75% 94%, 25% 94%, 4% 50%);
}

/* Spin effect animations */
@keyframes cr-rim-glow {
  0%, 100% { box-shadow: 0 0 0 6px rgba(168,85,247,0.12), 0 0 28px 8px rgba(124,58,237,0.18); }
  50% { box-shadow: 0 0 0 8px rgba(168,85,247,0.22), 0 0 44px 14px rgba(124,58,237,0.28); }
}
.cr-rim-glow { animation: cr-rim-glow 1600ms ease-in-out infinite; border-radius: 1rem; }

@keyframes cr-rays-rotate {
  from { transform: rotate(0deg) scale(1); opacity: .35; }
  50% { opacity: .6; }
  to { transform: rotate(360deg) scale(1.05); opacity: .35; }
}
.cr-spin-rays {
  background: conic-gradient(from 0deg, rgba(255,255,255,0.0) 0deg, rgba(255,255,255,0.25) 12deg, rgba(255,255,255,0.0) 24deg, rgba(255,255,255,0.2) 36deg, rgba(255,255,255,0.0) 48deg, rgba(255,255,255,0.18) 60deg, rgba(255,255,255,0.0) 72deg);
  mix-blend-mode: screen;
  animation: cr-rays-rotate 2200ms linear infinite;
  border-radius: 1rem;
}

.cr-spin-rays-strong {
  background: conic-gradient(from 0deg, rgba(255,255,255,0.0) 0deg, rgba(255,255,255,0.4) 8deg, rgba(255,255,255,0.0) 16deg, rgba(255,255,255,0.32) 24deg, rgba(255,255,255,0.0) 32deg, rgba(255,255,255,0.24) 40deg, rgba(255,255,255,0.0) 48deg);
  mix-blend-mode: screen;
  animation: cr-rays-rotate 1800ms linear infinite;
  border-radius: 1rem;
  opacity: .9;
}

.cr-spin-rays-inner {
  background: conic-gradient(from 0deg, rgba(255,255,255,0.0) 0deg, rgba(255,255,255,0.22) 10deg, rgba(255,255,255,0.0) 20deg, rgba(255,255,255,0.18) 30deg, rgba(255,255,255,0.0) 40deg);
  mix-blend-mode: screen;
  animation: cr-rays-rotate 2600ms linear infinite;
  border-radius: 0.9rem;
  opacity: .7;
}

@keyframes cr-sparkle {
  0% { transform: translateY(8px) scale(0.6); opacity: 0; }
  20% { opacity: .9; }
  80% { opacity: .9; }
  100% { transform: translateY(-12px) scale(0.9); opacity: 0; }
}
.cr-sparkle { width: 8px; height: 8px; background: radial-gradient(circle, rgba(255,255,255,0.95), rgba(255,255,255,0.0) 70%); filter: blur(0.2px); border-radius: 999px; animation: cr-sparkle 1200ms ease-in-out infinite; }

/* Dense static rayfield with soft pulse (no rotation) */
.cr-rayfield {
  background:
    radial-gradient(70% 60% at 50% 45%, rgba(255,255,255,0.25), rgba(255,255,255,0.0) 60%) ,
    repeating-conic-gradient(from 0deg,
      rgba(255,255,255,0.22) 0deg, rgba(255,255,255,0.22) 6deg,
      rgba(255,255,255,0.04) 6deg, rgba(255,255,255,0.04) 12deg);
  mix-blend-mode: screen;
  border-radius: 1rem;
  opacity: .45;
}
@keyframes cr-ray-pulse { 0%,100% { opacity: .35; transform: scale(1); } 50% { opacity: .6; transform: scale(1.02); } }
.cr-ray-pulse { animation: cr-ray-pulse 1800ms ease-in-out infinite; will-change: opacity, transform; }

/* Outside-of-card ambience */
@keyframes cr-aurora-shift {
  0%, 100% { transform: translate(-4%, -2%) scale(1.02); opacity: .45; }
  50% { transform: translate(4%, 2%) scale(1.06); opacity: .65; }
}
.cr-aurora {
  background:
    radial-gradient(50% 50% at 25% 20%, rgba(168,85,247,0.45), rgba(168,85,247,0.0) 60%),
    radial-gradient(60% 60% at 70% 70%, rgba(124,58,237,0.38), rgba(124,58,237,0.0) 65%),
    radial-gradient(40% 40% at 50% 50%, rgba(139,92,246,0.32), rgba(139,92,246,0.0) 70%);
  filter: blur(12px);
  mix-blend-mode: screen;
  animation: cr-aurora-shift 6s ease-in-out infinite;
}

@keyframes cr-ring-pulse { 0% { transform: scale(0.92); opacity: .55; } 70% { transform: scale(1.08); opacity: .0; } 100% { transform: scale(1.08); opacity: 0; } }
.cr-ring {
  border: 2px solid rgba(255,255,255,0.18);
  box-shadow: 0 0 30px rgba(124,58,237,0.35), inset 0 0 8px rgba(255,255,255,0.25);
  border-radius: 1.25rem;
  animation: cr-ring-pulse 2200ms ease-out infinite;
  pointer-events: none;
}

@keyframes cr-mote-drift {
  0% { transform: translate(0,0) scale(0.9); opacity: .0; }
  15% { opacity: .8; }
  85% { opacity: .8; }
  100% { transform: translate(12px,-16px) scale(1.05); opacity: 0; }
}
.cr-mote { width: 6px; height: 6px; background: radial-gradient(circle, rgba(255,255,255,0.95), rgba(255,255,255,0.0) 70%); border-radius: 999px; animation: cr-mote-drift 2600ms ease-in-out infinite; filter: drop-shadow(0 0 6px rgba(255,255,255,0.6)); }

/* One-shot glass glare sweep across the card */
@keyframes cr-glare-sweep-kf {
  0% { transform: translateX(-140%) rotate(20deg); opacity: 0.0; }
  10% { opacity: 0.25; }
  50% { opacity: 0.35; }
  100% { transform: translateX(140%) rotate(20deg); opacity: 0; }
}
.cr-glare-sweep::before {
  content: "";
  position: absolute;
  top: -20%;
  left: 0;
  width: 60%;
  height: 140%;
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.5) 45%, rgba(255,255,255,0.0) 100%);
  filter: blur(2px);
  transform: translateX(-140%) rotate(20deg);
  animation: cr-glare-sweep-kf 1200ms ease-out forwards;
  pointer-events: none;
}

/* Celebration: shockwave ring */
@keyframes cr-shockwave-kf {
  0% { transform: scale(0.6); opacity: .7; }
  70% { opacity: .25; }
  100% { transform: scale(1.6); opacity: 0; }
}
.cr-shockwave {
  width: 280px;
  height: 280px;
  border-radius: 9999px;
  border: 2px solid rgba(178,119,255,0.6);
  box-shadow: 0 0 40px rgba(178,119,255,0.5), inset 0 0 12px rgba(255,255,255,0.25);
  animation: cr-shockwave-kf 900ms ease-out forwards;
}

/* Celebration: confetti burst */
@keyframes cr-confetti-kf {
  0% { transform: translate(-50%, -50%) scale(0.6) rotate(0deg); opacity: 0; }
  15% { opacity: 1; }
  100% { transform: translate(calc(-50% + var(--tx, 0px)), calc(-50% + var(--ty, -60px))) scale(1) rotate(360deg); opacity: 0; }
}
.cr-confetti {
  width: 6px;
  height: 10px;
  border-radius: 2px;
  animation: cr-confetti-kf 900ms ease-out forwards;
  box-shadow: 0 0 8px rgba(255,255,255,0.35);
}

/* Tempting idle effects for unrevealed avatar */
@keyframes cr-bob {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-2px); }
}
.cr-tempt-bob { animation: cr-bob 2400ms ease-in-out infinite; will-change: transform; }

@keyframes cr-glow-pulse {
  0%, 100% { box-shadow: 0 8px 20px -10px rgba(124,58,237,0.55); }
  50% { box-shadow: 0 14px 26px -10px rgba(168,85,247,0.75); }
}
.cr-tempt-glow { animation: cr-glow-pulse 1800ms ease-in-out infinite; }

@keyframes cr-shimmer-loop {
  0% { transform: translateX(-140%) rotate(18deg); opacity: 0; }
  15% { opacity: .28; }
  35% { opacity: .18; }
  100% { transform: translateX(140%) rotate(18deg); opacity: 0; }
}
.cr-tempt-shimmer::before {
  content: "";
  position: absolute;
  top: -20%; left: 0; width: 60%; height: 140%;
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.45) 45%, rgba(255,255,255,0) 100%);
  filter: blur(1.5px);
  transform: translateX(-140%) rotate(18deg);
  animation: cr-shimmer-loop 2600ms ease-in-out infinite;
  pointer-events: none;
}

@keyframes cr-ping-ring {
  0% { transform: scale(0.95); opacity: .55; }
  70% { transform: scale(1.15); opacity: 0; }
  100% { transform: scale(1.15); opacity: 0; }
}
.cr-tempt-ping {
  border: 2px solid rgba(178,119,255,0.6);
  border-radius: 1rem;
  animation: cr-ping-ring 1800ms ease-out infinite;
}

/* Hover attraction for the unrevealed avatar */
.cr-tempt-attract { cursor: pointer; transition: transform 220ms ease, box-shadow 220ms ease, filter 220ms ease; }
.cr-tempt-attract:hover { transform: translateY(-2px) scale(1.04) rotate(1.5deg); filter: brightness(1.03); }
.cr-tempt-attract:hover::before {
  content: ""; position: absolute; inset: -2px; border-radius: 1rem;
  box-shadow: 0 0 0 2px rgba(178,119,255,0.5), 0 0 22px rgba(168,85,247,0.5);
  pointer-events: none;
}

/* Corner flare effect on open */
@keyframes cr-corner-flare-kf {
  0% { transform: scale(0.8); opacity: 0; }
  20% { opacity: .85; }
  100% { transform: scale(1.2); opacity: 0; }
}
.cr-corner-flare {
  position: fixed;
  width: 180px;
  height: 180px;
  pointer-events: none;
  background:
    radial-gradient(60% 60% at 50% 50%, rgba(168,85,247,0.55), rgba(168,85,247,0.0) 70%),
    radial-gradient(50% 50% at 50% 50%, rgba(124,58,237,0.45), rgba(124,58,237,0.0) 80%);
  mix-blend-mode: screen;
  filter: blur(8px);
  animation: cr-corner-flare-kf 900ms ease-out forwards;
  z-index: 110; /* above backdrop */
}
.cr-corner-top-left { top: 8px; left: 8px; }
.cr-corner-top-right { top: 8px; right: 8px; }
.cr-corner-bottom-left { bottom: 8px; left: 8px; }
.cr-corner-bottom-right { bottom: 8px; right: 8px; }

/* Corner rays (persist while legend phase) */
.cr-corner-rays-in {
  position: fixed;
  width: 40vw;
  height: 40vh;
  pointer-events: none;
  background:
    repeating-linear-gradient(var(--angle,45deg), rgba(168,85,247,0.32) 0 6px, rgba(168,85,247,0.03) 6px 18px);
  mix-blend-mode: screen;
  filter: blur(4px);
  animation: cr-ray-pulse 1800ms ease-in-out infinite, cr-rays-drift 6s linear infinite;
  z-index: 110;
  mask-image: radial-gradient(150% 150% at var(--mx,0%) var(--my,0%), #000 0%, rgba(0,0,0,0.7) 30%, rgba(0,0,0,0) 80%);
  -webkit-mask-image: radial-gradient(150% 150% at var(--mx,0%) var(--my,0%), #000 0%, rgba(0,0,0,0.7) 30%, rgba(0,0,0,0) 80%);
}
@keyframes cr-rays-drift { 0% { background-position: 0 0; } 100% { background-position: 60px 0; } }
.cr-rays-in-tl { top: 0; left: 0; --angle: 45deg; --mx: 0%; --my: 0%; }
.cr-rays-in-tr { top: 0; right: 0; --angle: 135deg; --mx: 100%; --my: 0%; }
.cr-rays-in-bl { bottom: 0; left: 0; --angle: -45deg; --mx: 0%; --my: 100%; }
.cr-rays-in-br { bottom: 0; right: 0; --angle: -135deg; --mx: 100%; --my: 100%; }

/* Circling lights around card */
@keyframes cr-circling-rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.cr-circling-lights {
  position: absolute;
  inset: -10px;
  border-radius: 1.25rem;
  pointer-events: none;
  background: conic-gradient(from 0deg, rgba(255,255,255,0) 0deg, rgba(168,85,247,0.35) 20deg, rgba(255,255,255,0) 40deg, rgba(168,85,247,0.25) 80deg, rgba(255,255,255,0) 120deg);
  mix-blend-mode: screen;
  filter: blur(6px) brightness(1.05);
  animation: cr-circling-rotate 4s linear infinite;
}

/* Edge glow scan (animated gradient ring around card) */
@keyframes cr-edge-rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.cr-edge-scan {
  position: absolute;
  inset: -2px;
  border-radius: 1.25rem;
  padding: 2px; /* ring thickness */
  background: conic-gradient(from 0deg, rgba(168,85,247,0) 0deg, rgba(168,85,247,0.55) 28deg, rgba(168,85,247,0) 60deg, rgba(168,85,247,0.45) 120deg, rgba(168,85,247,0) 160deg);
  animation: cr-edge-rotate 6s linear infinite;
  mix-blend-mode: screen;
  /* mask to show only ring area */
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

/* Orbiting sparks */
@keyframes cr-orbit-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.cr-orbit { position: absolute; inset: 0; pointer-events: none; }
.cr-orbit.r1 { animation: cr-orbit-spin 5s linear infinite; }
.cr-orbit.r2 { animation: cr-orbit-spin 7s linear infinite reverse; }
.cr-orbit.r3 { animation: cr-orbit-spin 9s linear infinite; }
.cr-orbit .dot {
  position: absolute; top: 50%; left: 50%; width: 6px; height: 6px;
  transform: translate(-50%, -50%) translateX(var(--radius, 120px));
  background: radial-gradient(circle, #ffffff 0%, rgba(168,85,247,0.9) 65%, rgba(168,85,247,0.0) 80%);
  border-radius: 9999px; filter: blur(0.4px) drop-shadow(0 0 6px rgba(168,85,247,0.8));
}
.cr-orbit.r1 .dot { --radius: 120px; }
.cr-orbit.r2 .dot { --radius: 140px; width: 5px; height: 5px; filter: blur(0.4px) drop-shadow(0 0 5px rgba(168,85,247,0.7)); }
.cr-orbit.r3 .dot { --radius: 100px; width: 4px; height: 4px; filter: blur(0.3px) drop-shadow(0 0 4px rgba(168,85,247,0.6)); }

/* Glass-like hover effect for clickable actions */
.cr-glass-hover { position: relative; transition: transform 180ms ease, filter 180ms ease, box-shadow 180ms ease; }
.cr-glass-hover:hover { filter: brightness(1.04); }
.cr-glass-hover::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background:
    linear-gradient(180deg, rgba(255,255,255,0.18) 0%, rgba(255,255,255,0.08) 18%, rgba(255,255,255,0.03) 40%, rgba(255,255,255,0.0) 60%),
    radial-gradient(60% 120% at 50% -20%, rgba(255,255,255,0.25), rgba(255,255,255,0) 60%);
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.35), inset 0 -2px 0 rgba(0,0,0,0.25);
  opacity: 0; pointer-events: none;
  transition: opacity 180ms ease;
}
.cr-glass-hover:hover::after { opacity: 1; }
